(this["webpackJsonplogin-app"]=this["webpackJsonplogin-app"]||[]).push([[0],{23:function(e,t,n){},47:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(12),c=n.n(i),r=(n(47),n(3)),o=(n(23),n(91)),u=n(16),l=n(13),j={isAuth:!1},d=function(e){return{type:"SET-AUTH",isAuth:e}},h=n(35),b=n.n(h).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/"}),O={status:"INIT",message:"",captchaUrl:"",isRem:!1},g=function(e){return{type:"SET-STATUS",status:e}},f=n(2);var p=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,status:e.login.status,message:e.login.message,capthaUrl:e.login.captchaUrl,isRem:e.login.isRem}}),(function(e){return{login:function(t,n,s){e(function(e,t,n){return function(s){s(g("INPROGRESS")),b.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){0===e.data.resultCode?(s(g("SUCCESS")),alert("\u0412\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u043b\u0438\u0441\u044c!"),s(d(!0))):(s(g("ERROR")),s({type:"SET-MESSAGE",message:e.data.messages[0]}),alert(e.data.messages[0]))}))}}(t,n,s))}}}))((function(e){var t=a.a.createRef(),n=a.a.createRef(),s=a.a.createRef(),i="ERROR"===e.status&&Object(f.jsx)("div",{className:"error",children:e.message});return e.isAuth?Object(f.jsx)(r.a,{to:"/main"}):Object(f.jsxs)("div",{className:"loginContainer",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{style:{margin:"6px"},children:"Login"}),Object(f.jsx)("input",{className:"in",type:"text",defaultValue:"free@samuraijs.com",style:{backgroundColor:"white",outline:"none",borderRadius:"5px"},ref:t})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{style:{margin:"6px"},children:"Password"}),Object(f.jsx)("input",{className:"in",type:"password",style:{backgroundColor:"white",outline:"none",borderRadius:"5px"},defaultValue:"free",ref:n})]}),Object(f.jsx)("p",{children:"Remember me"}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"checkbox",onClick:function(){},ref:s})}),Object(f.jsx)("div",{children:Object(f.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){var a,i;e.login&&e.login(null===(a=t.current)||void 0===a?void 0:a.value,null===(i=n.current)||void 0===i?void 0:i.value,s.current.checked)},disabled:"INPROGRESS"===e.status,children:"LogIn"})}),i]})}));var m=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(d(t))}}}))((function(e){return e.isAuth?Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)("h2",{children:"HELLO WORLD"}),Object(f.jsx)(o.a,{color:"secondary",variant:"contained",style:{margin:"10px"},onClick:function(){e.login(!1)},children:"LogOut"})]}):Object(f.jsx)(r.a,{to:"/"})}));var x=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(r.b,{path:"/",render:function(){return Object(f.jsx)(p,{})}}),Object(f.jsx)(r.b,{path:"/main",render:function(){return Object(f.jsx)(m,{})}})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))},S=n(41),R=n(21),A=n(40),E=Object(R.c)(Object(R.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH":return Object(l.a)(Object(l.a)({},e),{},{isAuth:t.isAuth});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"SET-MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{message:t.message});default:return e}}}),Object(R.a)(A.a));c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(u.a,{store:E,children:Object(f.jsx)(S.a,{children:Object(f.jsx)(x,{})})})}),document.getElementById("root")),v()}},[[76,1,2]]]);
//# sourceMappingURL=main.fe01edb6.chunk.js.map